<div>
  <h1>Mission</h1>
  <h2>{{ missionUser.nom_mission }}</h2>
  <div>
    <h3>Choix compétences</h3>
    <p-button (click)="showDialog()" label="Création mission" icon="pi pi-plus" />
    <p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
        <span class="p-text-secondary block mb-8">nouvelle compétence</span>
        <div class="flex items-center gap-4 mb-8">
            <label for="stacked" class="font-semibold w-24">Nombre de personnes</label>
            <p-inputnumber [(ngModel)]="nbPersonnel" [showButtons]="true" inputId="stacked" />
        </div>
        <p-select [options]="allCompetences" [(ngModel)]="selectedCompetence" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" placeholder="Selection compétence" class="w-full md:w-56">
          <ng-template #selectedItem let-selectedOption>
              <div class="flex items-center gap-2">
                  <div>{{ selectedOption.libelle }}</div>
              </div>
          </ng-template>
          <ng-template let-comp #item>
              <div class="flex items-center gap-2">
                  <div>{{ comp.libelle }}</div>
              </div>
          </ng-template>
      </p-select>
        <div class="flex justify-end gap-2">
            <p-button label="Cancel" severity="secondary" (click)="visible = false" />
            <p-button label="Save" (click)="visible = false" />
        </div>
    </p-dialog>

    <p-table [value]="competencesMission" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template #header>
          <tr>
              <th>Compétence</th>
              <th>Nombre de personnes</th>
          </tr>
      </ng-template>
      <ng-template #body let-comp>
          <tr>
              <td>{{ comp.competence.libelle }}</td>
              <td>{{ comp.nombre_personne }}</td>
          </tr>
      </ng-template>
      <ng-template #emptymessage>
        <tr>
            <td colspan="5">Aucune competence trouvée pour cette mission</td>
        </tr>
    </ng-template>
  </p-table>
  </div>
</div>
